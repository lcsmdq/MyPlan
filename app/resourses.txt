
@router.get("/")
def read_events():
    db = SessionLocal()
    try:
        # Debug: Ver que la sesión se crea
        print("Sesión DB creada")

        # Intentamos hacer la consulta
        events = db.query(models.Event).all()
        print(f"Eventos encontrados: {events}")

        return events

    except Exception as e:
        # Mostramos el error completo en consola
        print(f"Error en DB: {e}")
        raise HTTPException(status_code=500, detail=f"Error en DB: {e}")

    finally:
        db.close()
        print("Sesión DB cerrada")